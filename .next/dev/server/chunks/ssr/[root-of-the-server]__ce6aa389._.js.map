{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/mathewgutierrez/postpilot/frontend/app/page.tsx"],"sourcesContent":["\"use client\";\n\n// Helper to format dates with ordinals (e.g., March 2nd)\nfunction formatOrdinalDate(date: Date) {\n  const day = date.getDate();\n  let ordinal = 'th';\n  if (day % 10 === 1 && day !== 11) ordinal = 'st';\n  else if (day % 10 === 2 && day !== 12) ordinal = 'nd';\n  else if (day % 10 === 3 && day !== 13) ordinal = 'rd';\n  const month = date.toLocaleString('default', { month: 'long' });\n  return `${month} ${day}${ordinal}`;\n}\n\nimport { useState, useEffect, useRef } from \"react\";\n\n\nexport default function HomePage() {\n  const [file, setFile] = useState<File | null>(null);\n  const [prompt, setPrompt] = useState(\"\");\n  const [result, setResult] = useState(\"\");\n  const [tone, setTone] = useState(\"\");\n  const [companyName, setCompanyName] = useState(\"\");\n  const [goal, setGoal] = useState(\"\");\n  const [targetAudience, setTargetAudience] = useState(\"\");\n  const [contentType, setContentType] = useState(\"\");\n  const [emojiStyle, setEmojiStyle] = useState<\"none\" | \"light\" | \"heavy\">(\"light\");\n  const [loading, setLoading] = useState(false);\n  const [preview, setPreview] = useState<string | null>(null);\n  const [copiedIndex, setCopiedIndex] = useState<number | null>(null);\n  const [authenticated, setAuthenticated] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  const [history, setHistory] = useState<string[]>([]);\n  const [selectedCaptionIndex, setSelectedCaptionIndex] = useState<number | null>(null);\n  const [selectedHashtagIndex, setSelectedHashtagIndex] = useState<number | null>(null);\n  const [refineMode, setRefineMode] = useState<\"similar\" | \"custom\" | \"manual\" | null>(null);\n  const [baseCaption, setBaseCaption] = useState<string | null>(null);\n  // Store manual edits per caption index\n  const [manualEdits, setManualEdits] = useState<Record<number, string>>({});\n  // Store manual edits per hashtag index\n  const [manualHashtagEdits, setManualHashtagEdits] = useState<Record<number, string>>({});\n  // Manual editing state for hashtags\n  const [manualEditingHashtagIndex, setManualEditingHashtagIndex] = useState<number | null>(null);\n  const [refinePrompt, setRefinePrompt] = useState(\"\");\n  const copyButtonRef = useRef<HTMLDivElement | null>(null);\n  const [showToast, setShowToast] = useState(false);\n  // Add manual editing index state at the top level of the HomePage component\n  // (this is needed for the new inline editing logic)\n  // (insert below the other useState hooks)\n  const [manualEditingIndex, setManualEditingIndex] = useState<number | null>(null);\n  // Add loading dots state for dynamic animation\n  const [loadingDots, setLoadingDots] = useState(\"\");\n  // Store generated hashtags after caption generation\n  const [generatedHashtags, setGeneratedHashtags] = useState<string[]>([]);\n\n  // Animate loading dots when loading is true\n  useEffect(() => {\n    if (!loading) {\n      setLoadingDots(\"\");\n      return;\n    }\n    const interval = setInterval(() => {\n      setLoadingDots(prev => prev.length >= 3 ? \"\" : prev + \".\");\n    }, 500);\n    return () => clearInterval(interval);\n  }, [loading]);\n\n  useEffect(() => {\n    // Reset history on load (clean slate)\n    localStorage.removeItem(\"postpilot_history\");\n    setHistory([]);\n  }, []);\n\n\n  useEffect(() => {\n    if (result) {\n      const el = document.getElementById(\"results-container\");\n      if (el) {\n        el.classList.remove(\"opacity-0\");\n        el.classList.add(\"opacity-100\");\n      }\n    }\n  }, [result]);\n\n  if (!authenticated) {\n    return (\n      <main className=\"min-h-screen flex items-center justify-center bg-gray-100\">\n        <div className=\"bg-white p-8 rounded-xl shadow-lg w-full max-w-sm flex flex-col gap-4\">\n          <h2 className=\"text-2xl font-bold text-center\">PostPilot Access</h2>\n          <input\n            type=\"password\"\n            placeholder=\"Enter access password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            className=\"border p-2 rounded\"\n          />\n          <button\n            onClick={() => {\n              if (password === \" \") {\n                setAuthenticated(true);\n              } else {\n                alert(\"Incorrect password\");\n              }\n            }}\n            className=\"bg-blue-600 text-white p-2 rounded hover:bg-blue-700\"\n          >\n            Enter\n          </button>\n        </div>\n      </main>\n    );\n  }\n\nconst handleSubmit = async (e: React.FormEvent) => {\n  e.preventDefault();\n  if (!file) return alert(\"Please select a file\");\n\n  const currentRefineMode = refineMode;\n\n  setSelectedCaptionIndex(null);\n  setSelectedHashtagIndex(null);\n\n  const formData = new FormData();\n  formData.append(\"file\", file);\n  // -----------------------------\n  // SMART DROPDOWN PROMPT ENGINEERING\n  // -----------------------------\n  const audienceMap: Record<string, string> = {\n    \"Small business owners\":\n      \"Speak directly to small business owners. Focus on growth, efficiency, ROI, and practical wins.\",\n    \"Entrepreneurs\":\n      \"Speak to ambitious entrepreneurs. Emphasize scaling, freedom, impact, and bold action.\",\n    \"Gen Z\":\n      \"Write for Gen Z. Use punchy sentences, trend-aware language, relatable humor, and high energy.\",\n    \"Corporate professionals\":\n      \"Write in a polished, strategic, value-driven tone for corporate professionals.\",\n    \"Fitness audience\":\n      \"Use high-energy, motivational language that inspires discipline, strength, and transformation.\",\n    \"Moms and families\":\n      \"Write in a warm, relatable, supportive tone that resonates with families and busy parents.\",\n    \"Students\":\n      \"Write for students. Make it relatable to school life, growth, ambition, productivity, and future success. Keep it engaging and modern.\"\n  };\n\n  const toneMap: Record<string, string> = {\n    \"luxury and premium\":\n      \"Use elevated, refined language. Focus on exclusivity, sophistication, and premium value.\",\n    \"high-energy fitness\":\n      \"Use intense, motivating, action-driven language. Short impactful lines.\",\n    \"Gen Z hype and trendy\":\n      \"Use trendy phrasing, scroll-stopping hooks, and expressive energy.\",\n    \"corporate and professional\":\n      \"Use structured, confident, authoritative language with clear value propositions.\",\n    \"minimalist and clean\":\n      \"Use concise, sharp, and minimal wording. Avoid fluff.\"\n  };\n\n  const goalMap: Record<string, string> = {\n    \"Increase sales\":\n      \"Drive urgency and conversions. Highlight benefits and clear calls-to-action.\",\n    \"Drive website traffic\":\n      \"Encourage curiosity and clicks. Tease value and insights.\",\n    \"Build brand awareness\":\n      \"Focus on storytelling and memorability.\",\n    \"Increase engagement\":\n      \"Encourage comments, shares, and interaction.\",\n    \"Promote event\":\n      \"Create excitement and urgency around the event.\",\n    \"Launch announcement\":\n      \"Make the launch feel important and exciting.\",\n    \"Educate audience\":\n      \"Provide clear, actionable value and insights.\"\n  };\n\n  const contentTypeMap: Record<string, string> = {\n    \"Product post\":\n      \"Highlight features, benefits, and transformation outcomes.\",\n    \"Testimonial\":\n      \"Frame it as social proof. Emphasize results and credibility.\",\n    \"Behind the scenes\":\n      \"Make it personal, authentic, and insider-style.\",\n    \"Announcement\":\n      \"Make it bold and clear.\",\n    \"Educational\":\n      \"Break down insights in a clear, digestible format.\",\n    \"Trend or meme\":\n      \"Lean into relatability, humor, and cultural relevance.\"\n  };\n\n  // Example: If you want to insert a specific date into the prompt/caption, use formatOrdinalDate\n  // const flashSaleDate = new Date('2026-03-02');\n  // const formattedDate = formatOrdinalDate(flashSaleDate); // 'March 2nd'\n  // Then use ${formattedDate} in your prompt/caption instead of a plain date string.\n\n  const enhancedPrompt = `\nYou are an expert social media copywriter.\n\nThe user has uploaded a post. Focus on creating captions that relate to the **content of the post itself**. Use the following information only to tailor the captions, not to dictate them:\n\n${companyName ? `Brand: ${companyName}.` : \"\"}\n${goal ? `Goal: ${goal}.` : \"\"}\n${targetAudience ? `Target Audience: ${targetAudience}.` : \"\"}\n${tone ? `Tone: ${tone}.` : \"\"}\n${contentType ? `Content Type: ${contentType}.` : \"\"}\n\nAdditional user instructions:\n${prompt || \"None provided.\"}\n\nREQUIREMENTS:\n- Start with a strong hook.\n- Make each caption structurally different.\n- Include a natural CTA aligned with the goal.\n- Match the selected audience and tone **where relevant**.\n- Focus on content relevance first; dropdowns only guide the style and approach.\n- Avoid generic language.\n`;\n\n  formData.append(\"prompt\", enhancedPrompt);\n  formData.append(\"tone\", tone);\n  formData.append(\"companyName\", companyName);\n  formData.append(\"goal\", goal);\n  formData.append(\"targetAudience\", targetAudience);\n  formData.append(\"contentType\", contentType);\n  formData.append(\"variationSeed\", Date.now().toString());\n  if (refineMode && baseCaption) {\n    formData.append(\"refineMode\", refineMode);\n    formData.append(\"baseCaption\", baseCaption);\n\n    if (refineMode === \"custom\" && refinePrompt.trim().length > 0) {\n      formData.append(\"refinePrompt\", refinePrompt.trim());\n    }\n\n    if (refineMode === \"similar\") {\n      // Detect if user is refining hashtags (not captions)\n      const isHashtagSelection = selectedHashtagIndex !== null && (selectedCaptionIndex === null || manualEditingHashtagIndex !== null);\n      if (isHashtagSelection) {\n        const similarHashtagPrompt = `\nRewrite the following hashtags so they stay VERY similar in:\n- Topic relevance\n- Niche focus\n- Intent (growth, branding, community, etc.)\n- Length and count\n\nKeep them closely related to the same theme, but vary wording slightly.\nDo NOT add random generic tags.\nDo NOT repeat the exact same hashtags.\n\nOriginal Hashtags:\n\"\"\"\n${baseCaption}\n\"\"\"\n`;\n        formData.append(\"refinePrompt\", similarHashtagPrompt);\n      } else {\n        const similarCaptionPrompt = `\nRewrite the following caption so it stays VERY similar in:\n- Structure\n- Tone\n- Length\n- Formatting (line breaks, emojis, CTA placement)\n- Overall vibe\n\nKeep it stylistically almost identical, but slightly vary the wording so it feels fresh.\n\nDo NOT change the theme.\nDo NOT make it shorter or longer.\nDo NOT drastically change emojis.\n\nOriginal Caption:\n\"\"\"\n${baseCaption}\n\"\"\"\n`;\n        formData.append(\"refinePrompt\", similarCaptionPrompt);\n      }\n    }\n  }\n\n  try {\n    setLoading(true);\n\n    const res = await fetch(\"https://postpilot-backend-o3tg.onrender.com/generate-caption\", {\n      method: \"POST\",\n      body: formData,\n    });\n\n    if (!res.ok) {\n      const text = await res.text();\n      throw new Error(`Server error: ${res.status} - ${text}`);\n    }\n\n    const data = await res.json();\n    const newCaption =\n      data.caption ||\n      data.output_text ||\n      data.choices?.[0]?.message?.content ||\n      \"No caption returned\";\n\n    setResult(newCaption);\n    setLoading(false);\n\n    if (currentRefineMode) {\n      setRefineMode(null);\n      setRefinePrompt(\"\");\n    }\n\n  } catch (err: any) {\n    setLoading(false);\n    console.error(\"Error generating caption:\", err);\n    alert(err.message || \"Failed to generate caption. Check backend logs.\");\n  }\n};\n\n  return (\n    <>\n      <style jsx global>{`\n        @keyframes shimmer {\n          0% { background-position: -200% 0; }\n          100% { background-position: 200% 0; }\n        }\n\n        .animate-shimmer {\n          background-size: 200% 100%;\n          animation: shimmer 1.5s infinite;\n        }\n\n        @keyframes fadeIn {\n          0% { opacity: 0; transform: translateY(10px); }\n          100% { opacity: 1; transform: translateY(0); }\n        }\n\n        .animate-fadeIn {\n          animation: fadeIn 0.5s ease-out forwards;\n        }\n      `}</style>\n\n      <main className=\"min-h-screen w-full flex flex-col items-center px-4 py-6 bg-gradient-to-br from-gray-50 to-gray-200 text-black overflow-x-hidden\">\n      <div className=\"w-full flex flex-col items-center text-center mb-6\">\n        <h1 className=\"text-4xl font-extrabold mb-2\">PostPilot üöÄ</h1>\n        <p className=\"text-gray-600 font-medium\">AI-powered captions that convert</p>\n      </div>\n\n      <form\n        className=\"flex flex-col w-full max-w-5xl bg-white p-4 md:p-6 rounded-xl shadow-lg overflow-hidden\"\n        onSubmit={handleSubmit}\n      >\n        <div className=\"flex flex-col md:flex-row w-full gap-6 items-start\">\n          {/* Left: Image */}\n          <div className=\"w-full md:w-1/2 flex justify-center md:justify-start\">\n            <div\n              className=\"relative w-full md:max-w-md aspect-square cursor-pointer\"\n              onClick={() => document.querySelector<HTMLInputElement>('input[type=\"file\"]')?.click()}\n            >\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={(e) => {\n                  const selectedFile = e.target.files?.[0] || null;\n                  setFile(selectedFile);\n                  if (selectedFile) setPreview(URL.createObjectURL(selectedFile));\n                }}\n                className=\"hidden\"\n              />\n              {preview ? (\n                <img\n                  src={preview}\n                  alt=\"Preview\"\n                  className=\"w-full h-full object-cover rounded-lg border\"\n                />\n              ) : (\n                <div className=\"w-full h-full bg-gray-100 border rounded-lg flex items-center justify-center\">\n                  <span className=\"text-gray-400 font-medium\">Upload Post</span>\n                </div>\n              )}\n              {preview && (\n                <div className=\"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 bg-black bg-opacity-30 rounded-lg transition\">\n                  <span className=\"text-white font-semibold\">Replace Image</span>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Divider */}\n          <div className=\"hidden md:block w-px bg-gray-300\"></div>\n\n          {/* Right: Controls */}\n          <div className=\"w-full md:w-1/2 flex flex-col gap-4\">\n            <p className=\"font-medium text-gray-700 mb-2\">\n              <strong>How it works:</strong> Upload your image, choose your goal and audience, adjust tone, then generate high-converting captions and hashtags.\n            </p>\n            <input\n              type=\"text\"\n              placeholder=\"Company Name (optional)\"\n              value={companyName}\n              onChange={(e) => setCompanyName(e.target.value)}\n              className=\"border p-3 rounded-lg w-full\"\n            />\n\n            <select\n              value={goal}\n              onChange={(e) => setGoal(e.target.value)}\n              className=\"border p-2 rounded-lg w-full text-gray-700 bg-white\"\n            >\n              <option value=\"\">Select Goal</option>\n              <option value=\"Increase sales\">Increase Sales & Conversions üí∞</option>\n              <option value=\"Drive website traffic\">Drive Clicks to Website üåê</option>\n              <option value=\"Build brand awareness\">Build Brand Visibility üëÄ</option>\n              <option value=\"Increase engagement\">Boost Engagement (Likes, Comments, Shares) üí¨</option>\n              <option value=\"Promote event\">Promote an Event üìÖ</option>\n              <option value=\"Launch announcement\">Announce a Launch üöÄ</option>\n              <option value=\"Educate audience\">Educate & Provide Value üìö</option>\n            </select>\n\n\n<select\n  value={targetAudience}\n  onChange={(e) => setTargetAudience(e.target.value)}\n  className=\"border p-2 rounded-lg w-full text-gray-700 bg-white\"\n>\n  <option value=\"\">Select Target Audience</option>\n  <option value=\"Small business owners\">Small Business Owners (Growth Focused) üè™</option>\n  <option value=\"Entrepreneurs\">Entrepreneurs & Founders üöÄ</option>\n  <option value=\"Gen Z\">Gen Z (Trendy & Social) üì±</option>\n  <option value=\"Corporate professionals\">Corporate Professionals üíº</option>\n  <option value=\"Fitness audience\">Fitness & Gym Audience üí™</option>\n  <option value=\"Moms and families\">Moms & Families üë©‚Äçüëß</option>\n  <option value=\"Students\">Students (Ambitious & Career-Focused) üéì</option>\n</select>\n<select\n  value={contentType}\n  onChange={(e) => setContentType(e.target.value)}\n  className=\"border p-2 rounded-lg w-full text-gray-700 bg-white\"\n>\n  <option value=\"\">Select Content Type</option>\n  <option value=\"Product post\">Product Highlight üõç</option>\n  <option value=\"Testimonial\">Customer Testimonial ‚≠ê</option>\n  <option value=\"Behind the scenes\">Behind-the-Scenes Content üé¨</option>\n  <option value=\"Announcement\">Important Announcement üì¢</option>\n  <option value=\"Educational\">Educational / Value Post üìö</option>\n  <option value=\"Trend or meme\">Trend / Meme Style üòé</option>\n</select>\n            \n            <select\n              value={tone}\n              onChange={(e) => setTone(e.target.value)}\n              className=\"border p-2 rounded-lg w-full max-w-xs text-gray-700 bg-white\"\n            >\n              <option value=\"\">Select Tone</option>\n              <option value=\"luxury and premium\">Luxury & Premium ‚ú®</option>\n              <option value=\"high-energy fitness\">High-Energy & Motivational üí™</option>\n              <option value=\"Gen Z hype and trendy\">Gen Z Hype & Trendy üî•</option>\n              <option value=\"corporate and professional\">Corporate & Professional üíº</option>\n              <option value=\"minimalist and clean\">Minimalist & Clean üßº</option>\n            </select>\n            <textarea\n              placeholder=\"Describe exactly how you want the caption written (hook style, emotion, audience angle, CTA style, formatting, etc.)\"\n              value={prompt}\n              onChange={(e) => setPrompt(e.target.value)}\n              className=\"border p-4 rounded-lg w-full h-40 resize-none\"\n            ></textarea>\n            <div className=\"flex gap-2 mt-2\">\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition disabled:opacity-50 active:scale-95\"\n              >\n                {loading ? `Generating${loadingDots}` : \"Generate\"}\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setFile(null);\n                  setPreview(null);\n                  setResult(\"\");\n                  setPrompt(\"\");\n                  setTone(\"\");\n                  setCompanyName(\"\");\n                  setGoal(\"\");\n                  setTargetAudience(\"\");\n                  setContentType(\"\");\n                  setEmojiStyle(\"light\");\n                }}\n                className=\"bg-gray-200 text-gray-800 px-4 py-2 rounded-lg font-medium hover:bg-gray-300 transition active:scale-95\"\n              >\n                Reset\n              </button>\n            </div>\n          </div>\n        </div>\n      </form>\n\n      {loading && (\n        <div className=\"mt-8 w-full max-w-5xl\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n            {[...Array(3)].map((_, i) => (\n              <div\n                key={i}\n                className=\"h-24 bg-gray-200 rounded-lg relative overflow-hidden\"\n              >\n                <div className=\"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 animate-shimmer\"></div>\n              </div>\n            ))}\n            {[...Array(3)].map((_, i) => (\n              <div\n                key={`h-${i}`}\n                className=\"h-24 bg-gray-200 rounded-lg relative overflow-hidden\"\n              >\n                <div className=\"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 animate-shimmer\"></div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n\n      {result && !loading && (\n        <div\n          id=\"results-container\"\n          className=\"mt-8 w-full max-w-5xl transition-opacity duration-500 opacity-0 animate-fadeIn\"\n        >\n          <p className=\"mb-4 text-gray-600 font-medium\">\n            Select one caption and one hashtag to copy.\n          </p>\n\n          {(() => {\n            // Clean raw result\n            const cleaned = result.replace(/---/g, \"\").trim();\n\n            // -----------------------------\n            // SMART, POST-TAILORED HASHTAG GENERATION\n            // -----------------------------\n            // Only generate hashtags if none exist in state\n            let topHashtags: string[] = generatedHashtags;\n            if (generatedHashtags.length === 0) {\n              const captionText = cleaned.toLowerCase();\n\n              // Extract keywords from caption, remove stopwords, short words, numbers\n              const stopwords = ['the','and','for','with','this','that','from','your','are','you','have','will','can'];\n              const words = captionText\n                .replace(/[^a-zA-Z\\s]/g, '')\n                .split(/\\s+/)\n                .filter(w => w.length > 4 && !stopwords.includes(w));\n\n              const uniqueWords = Array.from(new Set(words));\n\n              // Turn keywords into hashtags, capitalize first letter\n              let generatedTags = uniqueWords.map(word => `#${word.charAt(0).toUpperCase()}${word.slice(1)}`);\n\n              // Contextual and goal-based tags\n              const contextTags: string[] = [];\n              if (goal === 'Increase sales') contextTags.push('#BuyNow','#ShopToday','#LimitedOffer');\n              if (goal === 'Increase engagement') contextTags.push('#CommentBelow','#ShareYourThoughts','#JoinTheConversation');\n              if (goal === 'Build brand awareness') contextTags.push('#BrandStory','#GrowingTogether','#OurJourney');\n              if (targetAudience === 'Students') contextTags.push('#StudentLife','#LevelUp','#CampusVibes');\n              if (targetAudience === 'Fitness audience') contextTags.push('#GymLife','#TrainHard','#NoDaysOff');\n              if (targetAudience === 'Entrepreneurs') contextTags.push('#HustleMode','#StartupLife','#FounderMindset');\n\n              generatedTags.push(...contextTags);\n\n              // Add universal high-performing tags\n              const universalTags = ['#Motivation','#Inspiration','#Success','#Growth','#DailyTips','#ContentThatConverts'];\n              generatedTags.push(...universalTags);\n\n              // Remove duplicates\n              generatedTags = Array.from(new Set(generatedTags));\n\n              // Shuffle the array\n              function shuffle(array:string[]) { return [...array].sort(() => Math.random() - 0.5); }\n              const shuffledTags = shuffle(generatedTags);\n\n              // Pick top 30 tags and split into 3 groups\n              topHashtags = [\n                shuffledTags.slice(0,10).join(' '),\n                shuffledTags.slice(10,20).join(' '),\n                shuffledTags.slice(20,30).join(' ')\n              ];\n              // Save hashtags to state so they persist for this result\n              setGeneratedHashtags(topHashtags);\n            }\n            // -----------------------------\n            // END SMART HASHTAG GENERATION\n            // -----------------------------\n\n            const textWithoutHashtags = cleaned\n              .replace(/#[a-zA-Z0-9_]+/g, \"\")\n              .replace(/\\*\\*/g, \"\")\n              .trim();\n\n            // Replace any dates like 'Jan 17', 'Jan 17, 2025', 'January 17', etc. with ordinal format\n            const dateRegex = /\\b(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Sept|Oct|Nov|Dec|January|February|March|April|May|June|July|August|September|October|November|December)\\s(\\d{1,2})(,\\s\\d{4})?/gi;\n\n            const formattedTextWithoutHashtags = textWithoutHashtags.replace(dateRegex, (_, monthAbbr, dayStr, yearStr) => {\n              const monthMap: Record<string, number> = {\n                Jan:0, January:0, Feb:1, February:1, Mar:2, March:2, Apr:3, April:3, May:4, Jun:5, June:5, Jul:6, July:6, Aug:7, August:7,\n                Sep:8, Sept:8, September:8, Oct:9, October:9, Nov:10, November:10, Dec:11, December:11\n              };\n              const day = parseInt(dayStr, 10);\n              const year = yearStr ? parseInt(yearStr.replace(/,\\s/, ''), 10) : new Date().getFullYear();\n              const date = new Date(year, monthMap[monthAbbr], day);\n              if (isNaN(date.getTime())) return `${monthAbbr} ${day}${yearStr || ''}`;\n              return formatOrdinalDate(date);\n            });\n\n            const userInstructionBoost = prompt\n  ? prompt.trim()\n  : \"\";\n\n            let captionCandidates: string[] = [];\n\n            // Try structured list first\n            if (/\\d+\\./.test(formattedTextWithoutHashtags)) {\n              captionCandidates = formattedTextWithoutHashtags\n                .split(/\\d+\\.\\s+/)\n                .map(t => t.trim())\n                .filter(t => t.length > 40);\n            }\n\n            // Try double line break separation\n            if (captionCandidates.length < 3 && formattedTextWithoutHashtags.includes(\"\\n\\n\")) {\n              captionCandidates = formattedTextWithoutHashtags\n                .split(\"\\n\\n\")\n                .map(t => t.trim())\n                .filter(t => t.length > 40);\n            }\n\n            // Fallback: sentence chunking\n            if (captionCandidates.length < 3) {\n              const sentences = formattedTextWithoutHashtags\n                .split(/(?<=[.!?])\\s+/)\n                .filter(t => t.length > 40);\n\n              for (let i = 0; i < sentences.length; i += 2) {\n                const combined = (sentences[i] + \" \" + (sentences[i + 1] || \"\")).trim();\n                if (combined.length > 60) captionCandidates.push(combined);\n              }\n            }\n\n\n            function getContextualEmojis(text: string) {\n              const lower = text.toLowerCase();\n\n              if (lower.includes(\"sale\") || lower.includes(\"shop\") || lower.includes(\"buy\")) {\n                return [\"üõçÔ∏è\", \"üí∏\", \"üî•\"];\n              }\n              if (lower.includes(\"fitness\") || lower.includes(\"gym\") || lower.includes(\"train\")) {\n                return [\"üí™\", \"üèãÔ∏è\", \"üî•\"];\n              }\n              if (lower.includes(\"launch\") || lower.includes(\"new\") || lower.includes(\"announcement\")) {\n                return [\"üöÄ\", \"üéâ\", \"‚ú®\"];\n              }\n              if (lower.includes(\"learn\") || lower.includes(\"tips\") || lower.includes(\"guide\")) {\n                return [\"üìö\", \"üí°\", \"üß†\"];\n              }\n              if (lower.includes(\"success\") || lower.includes(\"growth\") || lower.includes(\"level\")) {\n                return [\"üìà\", \"üöÄ\", \"üåü\"];\n              }\n\n              // fallback\n              return [\"‚ú®\", \"üî•\", \"üöÄ\"];\n            }\n\n            function addEmojisBetweenSentences(text: string) {\n              if (emojiStyle === \"none\") return text;\n\n              const contextualEmojis = getContextualEmojis(text);\n              const sentences = text.split(/(?<=[.!?])\\s+/);\n\n              return sentences\n                .map((sentence, index) => {\n                  if (index === sentences.length - 1) return sentence;\n\n                  if (emojiStyle === \"heavy\") {\n                    const fixedEmoji = contextualEmojis[index % contextualEmojis.length];\n                    return sentence + \" \" + fixedEmoji;\n                  }\n\n                  if (emojiStyle === \"light\" && index === 0) {\n                    const fixedEmoji = contextualEmojis[index % contextualEmojis.length];\n                    return sentence + \" \" + fixedEmoji;\n                  }\n\n                  return sentence;\n                })\n                .join(\" \");\n            }\n\n            function ensureEmoji(text: string) {\n              if (emojiStyle === \"none\") return text;\n\n              const hasEmoji = /[\\u{1F300}-\\u{1FAFF}]/u.test(text);\n              if (hasEmoji) return text;\n\n              const contextualEmojis = getContextualEmojis(text);\n              const fixedEmoji = contextualEmojis[0];\n              return text + \" \" + fixedEmoji;\n            }\n\n            function stripAllEmojis(text: string) {\n  return text\n    // Emoticons\n    .replace(/[\\u{1F600}-\\u{1F64F}]/gu, \"\")\n    // Symbols & pictographs\n    .replace(/[\\u{1F300}-\\u{1F5FF}]/gu, \"\")\n    // Transport & map\n    .replace(/[\\u{1F680}-\\u{1F6FF}]/gu, \"\")\n    // Misc symbols (‚ö° is here)\n    .replace(/[\\u{2600}-\\u{26FF}]/gu, \"\")\n    // Dingbats\n    .replace(/[\\u{2700}-\\u{27BF}]/gu, \"\")\n    // Supplemental symbols\n    .replace(/[\\u{1F900}-\\u{1F9FF}]/gu, \"\")\n    // Extended pictographs\n    .replace(/[\\u{1FA00}-\\u{1FAFF}]/gu, \"\")\n    // Variation selectors\n    .replace(/\\uFE0F/gu, \"\")\n    // Clean leftover spacing\n    .replace(/\\s{2,}/g, \" \")\n    .trim();\n}\n\n            function improveQuality(text: string) {\n              let improved = text.trim();\n\n              // Natural CTA enforcement\n              if (!/\\b(shop|learn|discover|get|try|join|start|click|order|comment|share|dm)\\b/i.test(improved)) {\n                improved += \"\\n\\nTap the link in bio to learn more.\";\n              }\n\n              // Clean extra spacing\n              improved = improved.replace(/\\s{2,}/g, \" \").trim();\n\n              // Do not append user instructions here; they are already applied via backend prompt\n\n              if (emojiStyle === \"none\") {\n                return stripAllEmojis(improved);\n              }\n\n              improved = addEmojisBetweenSentences(improved);\n              return ensureEmoji(improved);\n            }\n\n            let topCaptions = captionCandidates.slice(0, 3).map(improveQuality);\n\n            // Hard fallback (rare case)\n            while (topCaptions.length < 3) {\n              topCaptions.push(\n                improveQuality(\n                  \"This caption is crafted to capture attention, highlight value, and drive meaningful engagement with your audience.\"\n                )\n              );\n            }\n\n            topCaptions = topCaptions.slice(0, 3);\n            // -----------------------------\n            // COMPANY NAME DUPLICATION PREVENTION (IMPROVED)\n            // -----------------------------\n            if (companyName?.trim()) {\n              topCaptions = topCaptions.map(caption => {\n                // If the caption already includes the company name, do not prepend/duplicate\n                const regex = new RegExp(`\\\\b${companyName.trim().replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\")}\\\\b`, 'i');\n                if (regex.test(caption)) {\n                  return caption; // Company name already present, leave as-is\n                }\n                // Otherwise, prepend company name at the beginning\n                return `${companyName.trim()} ${caption}`;\n              });\n            }\n\n            return (\n              <>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n                  {/* CAPTIONS */}\n                  <div>\n                    <h3 className=\"text-lg font-semibold mb-4\">Caption Options</h3>\n                    <div className=\"space-y-4\">\n                      {topCaptions.map((caption, idx) => (\n                        <div\n                          key={idx}\n                          onClick={() => setSelectedCaptionIndex(idx)}\n                          className={`relative p-4 border rounded-lg cursor-pointer transition transform hover:scale-[1.01] ${\n                            selectedCaptionIndex === idx\n                              ? 'border-blue-600 bg-blue-50 scale-[1.02] shadow-lg shadow-blue-200/50'\n                              : 'bg-white hover:border-gray-400'\n                          }`}\n                        >\n                          {idx === 0 && (\n                            <span className=\"inline-block text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full mr-2 mb-1\">\n                              Top Pick\n                            </span>\n                          )}\n\n                          {/* Caption content and inline checkmark */}\n                          <div className=\"flex justify-between items-start\">\n                            <div className=\"flex-1\">\n                              {manualEditingIndex === idx && refineMode === 'manual' ? (\n                                <textarea\n                                  value={manualEdits[idx] ?? caption}\n                                  onChange={(e) => setManualEdits(prev => ({ ...prev, [idx]: e.target.value }))}\n                                  className=\"w-full border p-4 rounded-lg resize-none min-h-[120px] focus:outline-none focus:ring-2 focus:ring-gray-300\"\n                                  onClick={(e) => e.stopPropagation()}\n                                />\n                              ) : (\n                                <p>{manualEdits[idx] ?? caption}</p>\n                              )}\n                            </div>\n                            {selectedCaptionIndex === idx && (\n                              <span className=\"text-blue-600 font-bold text-sm ml-2 flex-shrink-0\">\n                                ‚úì\n                              </span>\n                            )}\n                          </div>\n\n                          {/* Buttons for selected caption only */}\n                          {selectedCaptionIndex === idx && manualEditingIndex !== idx && (\n                            <div className=\"flex flex-col sm:flex-row gap-3 mt-4\">\n                              <button\n                                type=\"button\"\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  setRefineMode('manual');\n                                  setManualEditingIndex(idx);\n                                  setManualEdits(prev => ({ ...prev, [idx]: manualEdits[idx] ?? caption }));\n                                }}\n                                className=\"flex-1 bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:opacity-90 transition active:scale-95\"\n                              >\n                                Edit Manually ‚úèÔ∏è\n                              </button>\n                              <button\n                                type=\"button\"\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  setRefineMode('similar');\n                                  setBaseCaption(manualEdits[idx] ?? caption);\n                                  handleSubmit(new Event('submit') as any);\n                                }}\n                                className=\"flex-1 bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:opacity-90 transition active:scale-95\"\n                              >\n                                Similar üîÅ\n                              </button>\n                              <button\n                                type=\"button\"\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  setEmojiStyle(prev => prev === 'light' ? 'heavy' : prev === 'heavy' ? 'none' : 'light');\n                                }}\n                                className=\"flex-1 border px-4 py-2 rounded-lg text-sm font-medium bg-gray-100 hover:bg-gray-200 transition\"\n                              >\n                                {\n                                  emojiStyle === 'light'\n                                    ? 'Heavy üî•'\n                                    : emojiStyle === 'heavy'\n                                    ? 'No Emojis üö´'\n                                    : 'Light üôÇ'\n                                }\n                              </button>\n                            </div>\n                          )}\n                          {selectedCaptionIndex === idx && manualEditingIndex === idx && (\n                            <div className=\"flex gap-2 mt-4\">\n                              <button\n                                type=\"button\"\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  navigator.clipboard.writeText(manualEdits[idx] ?? caption);\n                                  setShowToast(true);\n                                  setTimeout(() => setShowToast(false), 2000);\n                                }}\n                                className=\"flex-1 bg-black text-white px-4 py-2 rounded-lg text-sm font-medium hover:opacity-90 transition active:scale-95\"\n                              >\n                                Copy Edited Caption\n                              </button>\n                              <button\n                                type=\"button\"\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  setManualEdits(prev => {\n                                    const updated = { ...prev };\n                                    delete updated[idx];\n                                    return updated;\n                                  });\n                                  setManualEditingIndex(null);\n                                  setRefineMode(null);\n                                }}\n                                className=\"flex-1 bg-gray-300 text-gray-800 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-400 transition active:scale-95\"\n                              >\n                                Revert to Original\n                              </button>\n                            </div>\n                          )}\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* HASHTAGS */}\n                  <div>\n                    <h3 className=\"text-lg font-semibold mb-4\">Hashtag Options</h3>\n                    <div className=\"space-y-4\">\n                      {generatedHashtags.map((tag, idx) => (\n                        <div\n                          key={idx}\n                          className={`relative p-4 border rounded-lg cursor-pointer transition transform hover:scale-[1.01] ${\n                            selectedHashtagIndex === idx\n                              ? \"border-green-600 bg-green-50 scale-[1.02] shadow-lg shadow-green-200/50\"\n                              : \"bg-white hover:border-gray-400\"\n                          }`}\n                          onClick={() => setSelectedHashtagIndex(idx)}\n                        >\n                          <div className=\"flex justify-between items-start\">\n                            <div className=\"flex-1\">\n                              {manualEditingHashtagIndex === idx ? (\n                                <textarea\n                                  value={manualHashtagEdits[idx] ?? tag}\n                                  onChange={e => setManualHashtagEdits(prev => ({ ...prev, [idx]: e.target.value }))}\n                                  className=\"w-full border p-4 rounded-lg resize-none min-h-[80px] focus:outline-none focus:ring-2 focus:ring-gray-300\"\n                                />\n                              ) : (\n                                <p>{manualHashtagEdits[idx] ?? tag}</p>\n                              )}\n                            </div>\n                            {selectedHashtagIndex === idx && (\n                              <span className=\"text-green-600 font-bold text-sm ml-2 flex-shrink-0\">‚úì</span>\n                            )}\n                          </div>\n\n                          {/* Edit/Copy/Revert buttons for hashtags */}\n                          {selectedHashtagIndex === idx && !(manualEditingHashtagIndex === idx) && (\n                            <div className=\"flex flex-col sm:flex-row gap-3 mt-4\">\n                              <button\n                                type=\"button\"\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  setManualEditingHashtagIndex(idx);\n                                  setManualHashtagEdits(prev => ({ ...prev, [idx]: manualHashtagEdits[idx] ?? tag }));\n                                }}\n                                className=\"flex-1 bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:opacity-90 transition active:scale-95\"\n                              >\n                                Edit Manually ‚úèÔ∏è\n                              </button>\n                            </div>\n                          )}\n                          {manualEditingHashtagIndex === idx && (\n                            <div className=\"flex gap-2 mt-2\">\n                              <button\n                                type=\"button\"\n                                onClick={() => {\n                                  navigator.clipboard.writeText(manualHashtagEdits[idx] ?? tag);\n                                  setShowToast(true);\n                                  setTimeout(() => setShowToast(false), 2000);\n                                }}\n                                className=\"flex-1 bg-black text-white px-4 py-2 rounded-lg text-sm font-medium hover:opacity-90 transition active:scale-95\"\n                              >\n                                Copy Edited Hashtag\n                              </button>\n                              <button\n                                type=\"button\"\n                                onClick={() => {\n                                  setManualHashtagEdits(prev => {\n                                    const updated = { ...prev };\n                                    delete updated[idx];\n                                    return updated;\n                                  });\n                                  setManualEditingHashtagIndex(null);\n                                }}\n                                className=\"flex-1 bg-gray-100 text-gray-800 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-200 transition active:scale-95\"\n                              >\n                                Revert to Original\n                              </button>\n                            </div>\n                          )}\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n\n                {/* COPY COMBO BUTTON */}\n                {selectedCaptionIndex !== null && (\n                  <div ref={copyButtonRef} className=\"mt-8 text-center space-y-4\">\n                    {/* Only show copy button if both are selected */}\n                    {selectedHashtagIndex !== null && (\n                      <button\n                        onClick={() => {\n                          // Use manual edit if present, otherwise use original topCaptions\n                          const captionToCopy =\n                            manualEdits[selectedCaptionIndex!] !== undefined\n                              ? manualEdits[selectedCaptionIndex!]\n                              : topCaptions[selectedCaptionIndex!];\n                          // Use manual hashtag edit if present, otherwise original\n                          const hashtagToCopy =\n                            manualHashtagEdits[selectedHashtagIndex!] !== undefined\n                              ? manualHashtagEdits[selectedHashtagIndex!]\n                              : generatedHashtags[selectedHashtagIndex!];\n                          const combinedText = `${captionToCopy}\\n\\n${hashtagToCopy}`;\n\n                          navigator.clipboard.writeText(combinedText);\n\n                          // Save ONLY on copy\n                          const updatedHistory = [combinedText, ...history]\n                            .filter((item, index, self) => self.indexOf(item) === index) // remove duplicates\n                            .slice(0, 10);\n\n                          setHistory(updatedHistory);\n                          localStorage.setItem(\"postpilot_history\", JSON.stringify(updatedHistory));\n\n                          setShowToast(true);\n                          setTimeout(() => setShowToast(false), 2000);\n                        }}\n                        className=\"bg-black text-white px-4 py-2 rounded-lg font-medium hover:opacity-90 transition active:scale-95\"\n                      >\n                        {showToast ? (\n                          <span className=\"animate-bounce\">Copied!</span>\n                        ) : (\n                          \"Copy Selected Caption + Hashtags\"\n                        )}\n                      </button>\n                    )}\n\n                    <button\n                      onClick={() => {\n                        setSelectedCaptionIndex(null);\n                        setSelectedHashtagIndex(null);\n                        setRefinePrompt(\"\");\n                        setRefineMode(null);\n                      }}\n                      className=\"block mx-auto text-sm text-gray-500 hover:underline\"\n                    >\n                      Clear Selection\n                    </button>\n                  </div>\n                )}\n\n                {/* Regenerate Captions Button at bottom */}\n                <div className=\"mt-6 text-center\">\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setGeneratedHashtags([]); // clear hashtags so new ones are generated next render\n                      handleSubmit(new Event('submit') as unknown as React.FormEvent);\n                    }}\n                    className=\"bg-yellow-500 text-white px-4 py-2 rounded-lg font-medium hover:opacity-90 transition active:scale-95\"\n                  >\n                    Regenerate Captions\n                  </button>\n                </div>\n              </>\n            );\n          })()}\n        </div>\n      )}\n\n      {history.length > 0 && (\n        <div className=\"mt-12 w-full max-w-lg\">\n          <h2 className=\"text-xl font-semibold mb-4\">Recent Generations</h2>\n          <div className=\"space-y-3\">\n            {history.map((item, idx) => (\n              <div key={idx} className=\"p-3 bg-white border rounded-lg text-sm shadow-sm flex justify-between items-center transition transform hover:scale-[1.01]\">\n                <span>{item.substring(0, 150)}...</span>\n                <button\n                  onClick={() => navigator.clipboard.writeText(item)}\n                  className=\"text-sm text-blue-600 hover:underline ml-4\"\n                >\n                  Copy\n                </button>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n      {showToast && (\n        <div className=\"fixed bottom-6 right-6 bg-black text-white px-5 py-3 rounded-lg shadow-lg transition-opacity\">\n          Copied to clipboard ‚úÖ\n        </div>\n      )}\n      </main>\n    </>\n  );\n}"],"names":[],"mappings":"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"}}]
}